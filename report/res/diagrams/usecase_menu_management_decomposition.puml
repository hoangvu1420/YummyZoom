@startuml Menu_Management_UseCase_Decomposition
!theme plain

title Biểu đồ Use Case Phân rã - Quản lý Thực đơn

' Define actors
actor "Nhà hàng\n(Restaurant)" as Restaurant

' Define system boundary
package "Hệ thống YummyZoom - Menu Module" {
  
  ' Main use cases
  usecase "Quản lý danh mục" as UC1
  usecase "Quản lý món ăn" as UC2
  usecase "Quản lý nhóm tùy chọn" as UC3
  usecase "Cập nhật trạng thái món" as UC4
  
  ' Sub use cases for Category
  usecase "Thêm danh mục" as UC1_1
  usecase "Sửa danh mục" as UC1_2
  usecase "Xóa danh mục" as UC1_3
  
  ' Sub use cases for Dish
  usecase "Thêm món mới" as UC2_1
  usecase "Cập nhật thông tin món" as UC2_2
  usecase "Xóa món ăn" as UC2_3
  usecase "Gán nhóm tùy chọn" as UC2_4
  
  ' Sub use cases for Option Group
  usecase "Tạo nhóm tùy chọn" as UC3_1
  usecase "Thêm lựa chọn (Option)" as UC3_2
  
  ' Sub use cases for Status
  usecase "Bật/Tắt trạng thái (Còn/Hết)" as UC4_1
}

' Relationships
Restaurant --> UC1
Restaurant --> UC2
Restaurant --> UC3
Restaurant --> UC4

' Include relationships (CRUD)
UC1 ..> UC1_1 : <<include>>
UC1 ..> UC1_2 : <<include>>
UC1 ..> UC1_3 : <<include>>

UC2 ..> UC2_1 : <<include>>
UC2 ..> UC2_2 : <<include>>
UC2 ..> UC2_3 : <<include>>
UC2 ..> UC2_4 : <<include>>

UC3 ..> UC3_1 : <<include>>
UC3 ..> UC3_2 : <<include>>

UC4 ..> UC4_1 : <<include>>

' Extend relationships
UC2_4 <.. UC3 : <<extend>>

' Notes
note right of UC2_4 : Liên kết món với\nSize, Topping, Mức đường...
note bottom of UC4_1 : Cập nhật real-time\nđể khách hàng không đặt được
note top of UC1 : Phân loại món ăn\n(Khai vị, Món chính, Đồ uống)

@enduml
